namespace = cflavour
cflavour.108 = {

	type = character_event
	hide_window = yes
	
	immediate = {
		random_sub_realm_county = {
			limit = {
				owner = {
					character = ROOT
				}
				NOT = {
					has_county_modifier = canaanite_built_cippus
				}
			}
			save_scope_as = cippus_holding
		}
		trigger_event = cflavour.109
	}
}

cflavour.109 = {

	type = character_event
	title = EVTNAME_cflavour_109
	desc = EVTDESC_cflavour_109
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_zealous
	}

	option = {
		name = EVTOPTA_cflavour_109
		trigger_event = cflavour.110
	}
	option = {
		name = EVTOPTB_cflavour_109	
	}
}

cflavour.110 = {

	type = character_event
	title = EVTNAME_cflavour_110
	desc = EVTDESC_cflavour_110
	theme = hunting

	left_portrait = {
		character = root
		animation = personality_zealous
	}
		
	option = {
		name = EVTOPTA_cflavour_110
		trigger = {
			father= {
				is_alive = no
			}		
		}	
		add_character_flag = cippus_for_father
	}
	option = {
		name = EVTOPTB_cflavour_110
		trigger = {
			mother= {
				is_alive = no
			}		
		}
		add_character_flag = cippus_for_mother
	}	
	option = {
		name = EVTOPTC_cflavour_110	
		trigger = {
			father = {
				father= {
					is_alive = no
				}
			}		
		}	
		add_character_flag = cippus_for_grandfather
	}
	option = {
		name = EVTOPTD_cflavour_110	
		trigger = {
			mother= {
				father = {
					is_alive = no
				}
			}		
		}	
		add_character_flag = cippus_for_grandfather
	}
	option = {
		name = EVTOPTE_cflavour_110	
		trigger = {
			father= {
				mother = {
					is_alive = no
				}
			}		
		}	
		add_character_flag = cippus_for_grandmother
	}
	option = {
		name = EVTOPTF_cflavour_110	
		trigger = {
			mother = {
				mother = {
					is_alive = no
				}
			}		
		}	
		add_character_flag = cippus_for_grandmother
	}
	option = {
		name = EVTOPTG_cflavour_110	
		add_character_flag = cippus_for_ancestors	
	}
	
	after = {
		trigger_event = { id = cflavour.111 years = 1}
	}
}

cflavour.111 = {

	type = character_event
	title = EVTNAME_cflavour_111
	desc = EVTDESC_cflavour_111
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	theme = hunting
	
	left_portrait = {
		character = root
		animation = happiness
	}
	
	option = {
		name = EVTOPTA_cflavour_111
		trigger_event = {id = cflavour.113 days = 7}	
	}
}

cflavour.113 = {

	type = character_event
	title = EVTNAME_cflavour_113
	theme = hunting
	
	left_portrait = {
	    character = root
        triggered_animation = {
            trigger = { 
				root = {
					has_character_flag = dude_trashes_cippus
				}
			}
            animation = rage
        }
        triggered_animation = {
            trigger = { 
				root = {
					has_character_flag = dude_approves_of_cippus
				}
			}
            animation = ecstasy
        }	
	}
	
	right_portrait = {
	    character = scope:random_dude
        triggered_animation = {
            trigger = { 
				root = {
					has_character_flag = dude_trashes_cippus
				}
			}
            animation = scheme
        }
        triggered_animation = {
            trigger = { 
				root = {
					has_character_flag = dude_approves_of_cippus
				}
			}
            animation = admiration
        }	
	}
	
	immediate = {
		random_list = {
			50 = {
				add_character_flag = dude_trashes_cippus
				create_character = {
					age = 58
					random_traits = yes
					gender_female_chance = 0
					dynasty = none
					faith = faith:canaanitism_pagan
					culture = culture:punic
					trait = education_intrigue_1
					trait = greedy
					trait = drunkard
					trait = lunatic_1
					save_scope_as = random_dude
				}			
			}
			50 = {
				add_character_flag = dude_approves_of_cippus		
				create_character = {
					age = 65
					random_traits = yes
					gender_female_chance = 0
					dynasty = none
					faith = faith:canaanitism_pagan
					culture = culture:punic
					trait = education_diplomacy_3
					trait = just
					trait = diligent
					trait = kind
					trait = charitable
					save_scope_as = random_dude
				}				
			}
		}	
	}
	
	
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					has_character_flag = dude_trashes_cippus
				}
				desc = EVTDESC_cflavour_113_trashy
			}
			triggered_desc = {
				trigger = {
					has_character_flag = dude_approves_of_cippus
					has_character_flag = cippus_for_mother
				}
				desc = EVTDESC_cflavour_113_approves_mother		
			}
			triggered_desc = {
				trigger = {
					has_character_flag = dude_approves_of_cippus
					has_character_flag = cippus_for_father
				}
				desc = EVTDESC_cflavour_113_approves_father			
			}
			triggered_desc = {
				trigger = {
					has_character_flag = dude_approves_of_cippus
					has_character_flag = cippus_for_grandmother
				}
				desc = EVTDESC_cflavour_113_approves_grandmother			
			}
			triggered_desc = {
				trigger = {
					has_character_flag = dude_approves_of_cippus
					has_character_flag = cippus_for_grandfather
				}
				desc = EVTDESC_cflavour_113_approves_grandfather			
			}
			triggered_desc = {
				trigger = {
					has_character_flag = dude_approves_of_cippus
					has_character_flag = cippus_for_ancestors
				}
				desc = EVTDESC_cflavour_113_approves_ancestors			
			}
			desc = EVTDESC_cflavour_113
		}
	}
	
	option = {
		name = EVTOPTA_cflavour_113
		trigger = {
			has_character_flag = dude_trashes_cippus		
		}
		imprison_character_effect = {
			TARGET = scope:random_dude
			IMPRISONER = root
		}
		add_prestige = 25
		random = {
			chance = 20
			add_trait = just
		}	
	}
	option = {
		name = EVTOPTB_cflavour_113
		trigger = {
			has_character_flag = dude_trashes_cippus	
		}
		scope:random_dude = {
			death = {
				death_reason = death_punishment
				killer = root
			}				
		}
		add_prestige = 35
		random = {
			chance = 40
			add_trait = wrathful
		}			
	}	
	option = {
		name = EVTOPTC_cflavour_113
		trigger = {
			has_character_flag = dude_trashes_cippus		
		}
		random = {
			chance = 20
			add_trait = compassionate
		}	
		add_piety = 25
	}
	option = {
		name = EVTOPTD_cflavour_113
		trigger = {
			has_character_flag = dude_approves_of_cippus	
		}
		add_piety = 50
		add_prestige = 10
		add_gold = 5
		random_list = {
			40 = {}
			20 = {add_trait = arrogant}
			40 = {add_trait = humble}		
		}
	}
	after = {
		trigger_event = { id = cflavour.114 days = 21}
		hidden_effect = {
			random_list = {
				40 = { add_character_flag = good_omen }
				30 = { add_character_flag = bad_omen }
				5 = { add_character_flag = good_vision }
				5 = { add_character_flag = bad_vision }
			}
		}
	}
}

cflavour.114 = {

	type = character_event
	title = EVTNAME_cflavour_114
	theme = hunting
	
	left_portrait = {
		character = root
		triggered_animation ={
			trigger = {
				has_character_flag = good_omen
			}
			animation = personality_bold
		}
		triggered_animation ={
			trigger = {
				has_character_flag = bad_omen
			}
			animation = paranoia
		}
		triggered_animation ={
			trigger = {
				has_character_flag = good_vision
			}
			animation = personality_bold
		}
		triggered_animation ={
			trigger = {
				has_character_flag = bad_vision
			}
			animation = paranoia
		}		
	}
	
	
	desc = {
		first_valid = {
			triggered_desc = {	
				trigger = {
					has_character_flag = good_omen
				}
				desc = EVTDESC_cflavour_114_good_omen
			}
			triggered_desc = {	
				trigger = {
					has_character_flag = bad_omen
				}
				desc = EVTDESC_cflavour_114_bad_omen
			}
			triggered_desc = {	
				trigger = {
					has_character_flag = good_vision
					has_character_flag = cippus_for_father
				}
				desc = EVTDESC_cflavour_114_good_vision_father
			}
			triggered_desc = {	
				trigger = {
					has_character_flag = bad_vision
					has_character_flag = cippus_for_father
				}
				desc = EVTDESC_cflavour_114_bad_vision_father
			}
			triggered_desc = {	
				trigger = {
					has_character_flag = good_vision
					has_character_flag = cippus_for_mother
				}
				desc = EVTDESC_cflavour_114_good_vision_mother
			}
			triggered_desc = {	
				trigger = {
					has_character_flag = bad_vision
					has_character_flag = cippus_for_mother
				}
				desc = EVTDESC_cflavour_114_bad_vision_mother
			}
			triggered_desc = {	
				trigger = {
					has_character_flag = good_vision
					has_character_flag = cippus_for_grandfather
				}
				desc = EVTDESC_cflavour_114_good_vision_grandfather
			}
			triggered_desc = {	
				trigger = {
					has_character_flag = bad_vision
					has_character_flag = cippus_for_grandfather
				}
				desc = EVTDESC_cflavour_114_bad_vision_grandfather
			}
			triggered_desc = {	
				trigger = {
					has_character_flag = good_vision
					has_character_flag = cippus_for_grandmother
				}
				desc = EVTDESC_cflavour_114_good_vision_grandmother
			}
			triggered_desc = {	
				trigger = {
					has_character_flag = bad_vision
					has_character_flag = cippus_for_grandmother
				}
				desc = EVTDESC_cflavour_114_bad_vision_grandmother
			}
			triggered_desc = {	
				trigger = {
					has_character_flag = good_vision
					has_character_flag = cippus_for_ancestors
				}
				desc = EVTDESC_cflavour_114_good_vision_ancestors
			}
			triggered_desc = {	
				trigger = {
					has_character_flag = bad_vision
					has_character_flag = cippus_for_ancestors
				}
				desc = EVTDESC_cflavour_114_bad_vision_ancestors
			}
			desc = EVTDESC_cflavour_114
		}
	}

	option = {
		name = EVTOPTA_cflavour_114
		trigger = {
			has_character_flag = good_omen		
		}
		add_prestige = 25
		add_piety = 25
	}
	option = {
		name = EVTOPTB_cflavour_114
		trigger = {
			has_character_flag = bad_omen		
		}
		add_prestige = -25
		add_piety = -25
	}
	option = {
		name = EVTOPTC_cflavour_114
		trigger = {
			has_character_flag = good_vision
		}
		remove_trait = stressed
		remove_trait = depressed
		add_character_modifier = { name = uplifting_visions years = 1 }
		random = {
			chance = 5
			add_trait = ambitious
		}
	}
	option = {
		name = EVTOPTD_cflavour_114
		trigger = {
			has_character_flag = bad_vision
		}
		add_character_modifier = { name = frightening_visions years = 1 }
		add_trait = stressed
		random = {
			chance = 10
			add_trait = paranoid		
		}
		random = {
			chance = 5
			add_trait = possessed		
		}
	}
	
	after = {
		trigger_event = { id = cflavour.115 months = 3 }
	}
}

cflavour.115 = { 

	type = character_event
	title = EVTNAME_cflavour_109
	desc = EVTDESC_cflavour_115
	theme = hunting
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}

	option ={
		name = EVTOPTA_cflavour_115
		add_prestige  = 200
		add_piety = 200
		add_renown = 100
		scope:cippus_holding = {
			add_county_modifier = {
				modifier = canaanite_built_cippus
			}
		}
	}	
	after = {
		remove_character_flag = cippus_for_ancestors
		remove_character_flag = cippus_for_father
		remove_character_flag = cippus_for_grandfather
		remove_character_flag = cippus_for_grandmother
		remove_character_flag = cippus_for_mother
		remove_character_flag = good_omen
		remove_character_flag = bad_omen
		remove_character_flag = good_vision
		remove_character_flag = bad_vision	
	}
}